{
	"info": {
		"_postman_id": "shopping-cart-api-collection",
		"name": "Shopping Cart API",
		"description": "Complete API collection for the Fullstack Shopping Cart application. Includes authentication, user management, product operations, cart management, and order processing.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "shopping-cart-api"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "User Signup",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"username\": \"demo_user\",\n  \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/users",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"users"
							]
						},
						"description": "Create a new user account. Returns user details on success."
					},
					"response": []
				},
				{
					"name": "User Login",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"username\": \"demo_user\",\n  \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/users/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"users",
								"login"
							]
						},
						"description": "Login with username and password. Returns JWT token for authentication."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"username\": \"demo_user\",\n  \"password\": \"password123\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/users/login",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"users",
										"login"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"message\": \"Login successful\",\n  \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImRlbW9fdXNlciIsImV4cCI6MTcwNDA5NjAwMH0.example_token_here\"\n}"
						}
					]
				},
				{
					"name": "List Users (Protected)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/users",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"users"
							]
						},
						"description": "Get list of all users. Requires authentication token."
					},
					"response": []
				}
			],
			"description": "Authentication and user management endpoints"
		},
		{
			"name": "Products",
			"item": [
				{
					"name": "Get All Products",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/items",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"items"
							]
						},
						"description": "Get list of all available products. Public endpoint, no authentication required."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/items",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"items"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"items\": [\n    {\n      \"id\": 1,\n      \"name\": \"Laptop\",\n      \"description\": \"High-performance laptop\",\n      \"price\": 999.99,\n      \"category\": \"Electronics\",\n      \"rating\": 4.5,\n      \"reviews\": 10,\n      \"image\": \"https://example.com/laptop.jpg\",\n      \"in_stock\": true\n    },\n    {\n      \"id\": 2,\n      \"name\": \"Smartphone\",\n      \"description\": \"Latest smartphone model\",\n      \"price\": 699.99,\n      \"category\": \"Electronics\",\n      \"rating\": 4.2,\n      \"reviews\": 15,\n      \"image\": \"https://example.com/smartphone.jpg\",\n      \"in_stock\": true\n    }\n  ]\n}"
						}
					]
				},
				{
					"name": "Create Product (Protected)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"New Product\",\n  \"description\": \"Product description\",\n  \"price\": 29.99,\n  \"category\": \"Electronics\",\n  \"rating\": 4.0,\n  \"reviews\": 0,\n  \"image\": \"https://example.com/new-product.jpg\",\n  \"in_stock\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/items",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"items"
							]
						},
						"description": "Create a new product. Requires authentication token."
					},
					"response": []
				},
				{
					"name": "Delete Product (Protected)",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/items/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"items",
								"1"
							]
						},
						"description": "Delete a product by ID. Requires authentication token."
					},
					"response": []
				}
			],
			"description": "Product management endpoints"
		},
		{
			"name": "Cart Operations",
			"item": [
				{
					"name": "Add Item to Cart",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"item_id\": 1,\n  \"quantity\": 2\n}"
						},
						"url": {
							"raw": "{{base_url}}/carts",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"carts"
							]
						},
						"description": "Add an item to the user's cart. Requires authentication token."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"item_id\": 1,\n  \"quantity\": 2\n}"
								},
								"url": {
									"raw": "{{base_url}}/carts",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"carts"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"message\": \"Item added to cart successfully\",\n  \"cart\": {\n    \"id\": 1,\n    \"user_id\": 1,\n    \"items\": [\n      {\n        \"id\": 1,\n        \"item_id\": 1,\n        \"quantity\": 2,\n        \"price\": 999.99,\n        \"item\": {\n          \"name\": \"Laptop\",\n          \"price\": 999.99\n        }\n      }\n    ]\n  }\n}"
						}
					]
				},
				{
					"name": "Get User Cart",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/carts",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"carts"
							]
						},
						"description": "Get the current user's cart with all items. Requires authentication token."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/carts",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"carts"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"cart\": {\n    \"id\": 1,\n    \"user_id\": 1,\n    \"items\": [\n      {\n        \"id\": 1,\n        \"item_id\": 1,\n        \"quantity\": 2,\n        \"price\": 999.99,\n        \"item\": {\n          \"name\": \"Laptop\",\n          \"price\": 999.99\n        }\n      },\n      {\n        \"id\": 2,\n        \"item_id\": 2,\n        \"quantity\": 1,\n        \"price\": 699.99,\n        \"item\": {\n          \"name\": \"Smartphone\",\n          \"price\": 699.99\n        }\n      }\n    ]\n  }\n}"
						}
					]
				},
				{
					"name": "Remove Item from Cart",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"item_id\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/carts",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"carts"
							]
						},
						"description": "Remove an item from the user's cart. Requires authentication token."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"item_id\": 1\n}"
								},
								"url": {
									"raw": "{{base_url}}/carts",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"carts"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"message\": \"Item removed from cart successfully\"\n}"
						}
					]
				},
				{
					"name": "Get All Carts (Admin)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/carts/all",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"carts",
								"all"
							]
						},
						"description": "Get all carts (admin only). Requires authentication token."
					},
					"response": []
				}
			],
			"description": "Shopping cart management endpoints"
		},
		{
			"name": "Orders",
			"item": [
				{
					"name": "Create Order from Cart",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/orders",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"orders"
							]
						},
						"description": "Create an order from the current user's cart. Clears the cart after order creation. Requires authentication token."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/orders",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"orders"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"message\": \"Order created successfully\",\n  \"order\": {\n    \"id\": 1,\n    \"user_id\": 1,\n    \"cart_id\": 1,\n    \"total\": 2699.97,\n    \"created_at\": \"2024-01-01T00:00:00Z\",\n    \"cart\": {\n      \"items\": [\n        {\n          \"item\": {\n            \"name\": \"Laptop\",\n            \"price\": 999.99\n          },\n          \"quantity\": 2,\n          \"price\": 999.99\n        },\n        {\n          \"item\": {\n            \"name\": \"Smartphone\",\n            \"price\": 699.99\n          },\n          \"quantity\": 1,\n          \"price\": 699.99\n        }\n      ]\n    }\n  }\n}"
						}
					]
				},
				{
					"name": "Get User Orders",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/orders",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"orders"
							]
						},
						"description": "Get all orders for the current user. Requires authentication token."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/orders",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"orders"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"orders\": [\n    {\n      \"id\": 1,\n      \"user_id\": 1,\n      \"cart_id\": 1,\n      \"total\": 2699.97,\n      \"created_at\": \"2024-01-01T00:00:00Z\",\n      \"cart\": {\n        \"items\": [\n          {\n            \"item\": {\n              \"name\": \"Laptop\",\n              \"price\": 999.99\n            },\n            \"quantity\": 2,\n            \"price\": 999.99\n          },\n          {\n            \"item\": {\n              \"name\": \"Smartphone\",\n              \"price\": 699.99\n            },\n            \"quantity\": 1,\n            \"price\": 699.99\n          }\n        ]\n      }\n    }\n  ]\n}"
						}
					]
				},
				{
					"name": "Get All Orders (Admin)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/orders/all",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"orders",
								"all"
							]
						},
						"description": "Get all orders (admin only). Requires authentication token."
					},
					"response": []
				}
			],
			"description": "Order management endpoints"
		},
		{
			"name": "Server Info",
			"item": [
				{
					"name": "Get Server Status",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								""
							]
						},
						"description": "Get server status and API information. Public endpoint."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/",
									"host": [
										"{{base_url}}"
									],
									"path": [
										""
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"message\": \"Shopping Cart API is running!\",\n  \"version\": \"1.0.0\",\n  \"endpoints\": {\n    \"auth\": [\"POST /users\", \"POST /users/login\", \"GET /users\"],\n    \"products\": [\"GET /items\", \"POST /items\", \"DELETE /items/:id\"],\n    \"cart\": [\"POST /carts\", \"GET /carts\", \"DELETE /carts\", \"GET /carts/all\"],\n    \"orders\": [\"POST /orders\", \"GET /orders\", \"GET /orders/all\"]\n  }\n}"
						}
					]
				}
			],
			"description": "Server information and status endpoints"
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Auto-set auth token if available",
					"if (pm.environment.get('auth_token')) {",
					"    pm.request.headers.add({",
					"        key: 'Authorization',",
					"        value: 'Bearer ' + pm.environment.get('auth_token')",
					"    });",
					"}"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Auto-save auth token from login response",
					"if (pm.request.url.path.includes('/users/login') && pm.response.code === 200) {",
					"    const response = pm.response.json();",
					"    if (response.token) {",
					"        pm.environment.set('auth_token', response.token);",
					"        console.log('Auth token saved automatically');",
					"    }",
					"}"
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8080",
			"type": "string"
		},
		{
			"key": "auth_token",
			"value": "",
			"type": "string"
		}
	]
} 